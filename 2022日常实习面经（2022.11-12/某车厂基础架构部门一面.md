## æŸè½¦åŽ‚åŸºç¡€æž¶æž„éƒ¨é—¨ä¸€é¢

æ€»ç»“

ä½“éªŒå¾ˆå¥½ï¼Œä¸ä¼šé—®ä¸€äº›åçš„å…«è‚¡ï¼Œä¸ä¼šçš„è¿˜ä¼šå¼•å¯¼

æœ€åŽä¹Ÿç»™äº†äº›å­¦ä¹ å»ºè®®ï¼Œéžå¸¸ä¸é”™çš„é¢è¯•

----

è‡ªæˆ‘ä»‹ç»

æ“ä½œç³»ç»Ÿçº¿ç¨‹ã€è¿›ç¨‹

çº¿ç¨‹ã€è¿›ç¨‹çš„é€šè®¯æ–¹å¼

tcp/udp åŒºåˆ«ã€åº”ç”¨åœºæ™¯

ä¸‰æ¬¡/å››æ¬¡

tcpç²˜åŒ…ï¼ˆä¸äº†è§£ï¼Œç»™æˆ‘è®²äº†æ˜¯ä¸ªä»€ä¹ˆæƒ…å½¢ï¼‰

ä½ æ€Žä¹ˆè§£å†³tcpç²˜åŒ…

è®²ä¸€ä¸‹paxosï¼ˆå› ä¸ºèŠçš„å¾ˆå¼€å¿ƒï¼Œæˆ‘ç›´æŽ¥è¯´æˆ‘å°±å¼€å§‹åŸå”±äº†ðŸ˜¼

>ä»ŽCAP--ã€‹PACELC
>
>åº”è¯¥å†è®²NWRçš„
>
>ç„¶åŽPaxos
>
>æ´»é”
>
>mutil-paxos

ä½ è§‰å¾—raftå’Œpaxosä»–ä»¬æœ‰ä»€ä¹ˆæœ¬è´¨çš„åŒºåˆ«å—ï¼Ÿå®ƒä¸ºäº†å·¥ç¨‹å®žçŽ°ä¸¢å¼ƒäº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ

è®²è®²raftçš„å­åŠŸèƒ½è¿‡ç¨‹

-----åœºæ™¯é¢˜-----

å¦‚æžœæœ‰ä¸ªèŠ‚ç‚¹è½åŽå…¶ä»–èŠ‚ç‚¹å¾ˆå¤šæ—¥å¿—ï¼Œraftæ€Žä¹ˆå¤„ç†ï¼Ÿ

> followerå¼ºåˆ¶åŒæ­¥leaderæ—¥å¿—

æœ‰ä¸ªè¯»è¯·æ±‚åˆ°äº†followerï¼Œraftæ€Žä¹ˆæ“ä½œ

> è½¬å‘ç»™leader

è¯»è¯·æ±‚æ­£å¥½æ‰“åˆ°äº†åˆšæ‰é‚£ä¸ªè½åŽäº†å¾ˆå¤šæ—¥å¿—çš„èŠ‚ç‚¹ä¸Šæ€Žä¹ˆåŠžï¼Ÿ

>å¦‚æžœå®žçŽ°äº†çº¿æ€§ä¸€è‡´æ€§è¯»ï¼Œæ˜¯å¯ä»¥ä»Žfollowerè¯»çš„

ä¸‰èŠ‚ç‚¹ï¼Œæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå¯èƒ½æ˜¯leaderå¯èƒ½æ˜¯followerå®•æœºï¼‰ï¼Œè¯´ä¸‹æ­¤æ—¶é›†ç¾¤å†…éƒ¨æ˜¯ä»€ä¹ˆæƒ…å†µ

å®•æœºèŠ‚ç‚¹é‡æ–°åŠ å…¥é›†ç¾¤åŽå‘ç”Ÿä»€ä¹ˆï¼Ÿ

ç½‘ç»œåˆ†åŒºæ—¶ï¼Œå€™é€‰è€…çš„termä¸åœ+1åŽï¼Œå¦å¤–ä¸¤ä¸ªèŠ‚ç‚¹æ­£å¸¸æœåŠ¡ï¼Œç½‘ç»œæ¢å¤åŽï¼Œé›†ç¾¤å‘ç”Ÿä»€ä¹ˆï¼Ÿ

> leaderé€‰ä¸¾è§„åˆ™
>
> ä¿è¯è¢«é€‰å‡ºæ¥çš„leaderä¸€å®šåŒ…å«äº†ä¹‹å‰å„ä»»æœŸçš„æ‰€æœ‰è¢«æäº¤çš„æ—¥å¿—
>
> æŠ•ç¥¨rpcæœ‰é™åˆ¶ï¼šå¦‚æžœæŠ•ç¥¨è€…è‡ªå·±çš„æ—¥å¿—æ¯”candidateçš„è¿˜æ–°ï¼Œé‚£ä¹ˆå®ƒä¼šæ‹’ç»æŽ‰è¯¥æŠ•ç¥¨
>
> 



---



ç®—æ³•

å­—ç¬¦ä¸²è½¬æ•°å­—

poj1852 ï¼ˆé»˜é»˜æ„Ÿè°¢zjuäººå½¢é¢˜åº“ACMå·¨ä½¬



