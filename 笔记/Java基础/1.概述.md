# 1 Java 概述

## 1.1 Java 历史

- 目前 Java 版权属于甲骨文公司。

- 长期支持的版本只有 Java8 与 Java11。这两个版本也是最多使用的版本。

- Java SE：标准版

  Java EE：企业版（重要）

  Java ME：小型版（少）

## 1.2 Java 重要特点

1. Java 语言是**面向对象的（oop）**

   简单来说，面向对象是一种程序设计技术。其重点放在数据（对象）和对象的接口上。

2. Java 语言是**健壮的**。其强类型机制、异常处理、垃圾自动收集是健壮性的保证。

   Java 强调早期问题检测、后期动态检测，及消除易出错的情况。其编译器能检测很多其他语言仅在运行时才会发现的问题。

3. Java 语言是**跨平台性**的：一个编译好的 `.class` 文件可以在多个不同系统下直接运行。

   Java 中没有 “依赖具体实现” 的地方。其基本数据类型大小、有关运算的行为等都有明确说明。其绝大多数库都能很好地支持平台独立性，而不用担心操作系统。

4. Java 语言是**解释型**的：解释型语言编译后需要解释器才能运行。相对的，编译型语言可以被直接执行。

   Java 解释器能在任何移植了解释器的机器上直接执行 Java 字节码。

## 1.3 Java 的开发工具

- javac：Java 编译器。将 Java 程序编译成字节码
- java：Java 解释器。执行已经转换为字节码的文件
- jdb：Java 调试器。调试 Java 程序
- javap：反编译。将类文件还原回方法和变量
- javadoc：文档生成器。创建 HTML 文件

## 1.4 Java 运行基础

> JVM：Java 虚拟机

- JVM 是–跨平台性的基础。被包含在 JDK 中。
- 不同平台有各自对应的不同 JVM
- JVM 屏蔽了底层平台的区别。能做到 ”一次编译，到处运行”

> JDK 全称：Java Development Kit（Java 开发工具包）

- JDK = JRE + Java 的开发工具（Java，Javac，Javadoc 等等）
- 给开发人员使用的，包含 JRE

> JRE：Java Runtime Enviroment（Java 运行环境）

- JRE = JVM + Java SE 标准类库（Java 的核心类库）
- 运行一个 Java 程序的基本条件

## 1.5 Java 执行流程分析

> `.Java` 文件（源文件） — javac（编译）— `.class` 文件（字节码文件） — java（运行）— 结果

### 1.5.1 编译

```
javac [选项] 源文件名.java			//[] 中是可选项
```

- 通过编译器将 Java 源文件编译成 JVM 可识别的字节码文件。字节码文件是二进制格式的，其格式是统一的。在源文件目录下使用 Javac 编译工具对 Java 文件进行编译。
- 如果没有错误将没有提示，当前目录会对应其中每一个类生成对应名称的 `.class` 文件，即字节码文件，也是可执行的 Java 程序。

### 1.5.2 运行

```
java [选项] 程序名 [参数列表]			//[] 中是可选项
```

- 有了可执行的 Java 程序（字节码文件）
- 通过运行工具` Java.exe` 对字节码文件进行执行，本质是将 `.class` 文件装载到 JVM 运行。

# 2 变量

## 2.1 Java 数据类型

#### 基本数据类型（本章）

- **数值型**
  - 整数类型：
    - byte：占用 1 字节
    - short：占用 2 字节
    - int：占用 4 字节
    - long：占用 8 字节
  - 浮点（小数）类型：
    - float：占用 4 字节
    - double：占用 8 字节
- **字符型**
  - char：存放单个字符，占用 2 字节
- **布尔型**
  - boolean：存放 true（真），false（假）。占用 1 字节

#### 引用数据类型（复合数据类型）

- **类**：class
- **接口**：interface
- **数组**：`[]`

## 2.2 浮点类型

> 可以表示一个小数

- `float` 单精度（6 ~ 7 位有效数字），占用 4 字节，范围约 -3.403E38 ~ 3.403E38
- `double` 双精度（15 位有效数字），占用 8 字节，范围约 -1.798E308 ~ 1.798E308

*浮点数在机器中存放形式为：浮点数 = 符号位 + 指数位 + 尾数位*

***因此，尾数部分可能丢失，造成精度损失。换言之，小数都是近似值***

## 2.3 基本数据类型转换

### 2.3.1 自动类型转换

> 自动类型转换：Java 在进行赋值或运算时，精度（容量）小的类型自动转换为精度（容量）大的类型。
>
> ```
> char` > `int `> `long` > `float` > `double
> byte` > `short` > `int `> `long` > `float` > `double
> ```
>
> 例子：`int a = 'c'` 或者 `double b = 80`

#### 2.3.1.1 使用细节

1. 有多种类型数据混合运算时，系统会将所有数据转换成容量最大的那种，再进行运算。

2. 如若把大精度（容量）数据赋值给小精度（容量）类型，就会报错（小数由于精度原因，大赋小会丢失精度，必不可用。但整数大赋小时：1.赋予具体数值时，判断范围。2.变量赋值时，判断类型。反之进行自动类型转换。

3. `byte` `short` `char` 三者不会相互自动转换，但可以计算。计算时首先转化为 `int`。

   > `byte a = 1;`
   >
   > `byte b = 1;`
   >
   > `a + b` 结果是 `int` 类型

4. `boolean` 类型不参与自动转换

5. 自动提升原则：表达式结果的类型自动提升为操作数中最大的类型。

### 2.3.2 强制类型转换

> 强制类型转换：自动类型转换的逆过程，将容量大的数据类型转换为容量小的数据类型。使用时加上强制转换符 `( )` ，但**可能造成精度降低或溢出**，要格外注意。

#### 2.3.2.1 使用细节

1. 当进行数据从大到小转换时，用强制转换。

2. 强制转换只能对最近的操作数有效，往往会使用 `( )` 提升优先级。

   ```
   int a = (int)(3 * 2.5 + 1.1 * 6);
   JAVA
   ```

3. `char` 可以保留 `int` 的常量值，但不能保存其变量值。此时需要强制类型转换。

   ```
   int a = 10;
   char b = 10;
   char c = (char)a;
   JAVA
   ```

4. `byte` `short` `char` 在进行运算时，当作 `int` 处理。